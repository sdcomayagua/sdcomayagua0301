:root{
  --bg:#ffffff;
  --surface:#f6f7f9;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#475569;
  --border:rgba(15,23,42,.10);
  --primary:#0ea5e9;
  --primary-2:#0369a1;
  --ok:#16a34a;
  --warn:#f59e0b;
  --bad:#dc2626;
  --shadow: 0 10px 30px rgba(2,6,23,.10);
  --radius:18px;
}
[data-theme="dark"]{
  --bg:#0b1220;
  --surface:#0f1a2b;
  --card:#0c1626;
  --text:#e5e7eb;
  --muted:#a7b0bf;
  --border:rgba(255,255,255,.10);
  --primary:#38bdf8;
  --primary-2:#0ea5e9;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font: 15px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
}
a{color:inherit}
.container{max-width:1180px;margin:0 auto;padding:16px}
.topbar{
  position:sticky;top:0;z-index:50;
  background:color-mix(in srgb, var(--bg) 88%, transparent);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border);
}
.topbar-inner{display:flex;gap:12px;align-items:center;justify-content:space-between}
.brand{display:flex;gap:10px;align-items:center}
.logo{
  width:42px;height:42px;border-radius:12px;
  background: linear-gradient(135deg, var(--primary), color-mix(in srgb, var(--primary) 30%, white));
  box-shadow: var(--shadow);
  display:grid;place-items:center;
  color:#001018;font-weight:900;
}
.brand h1{font-size:16px;margin:0}
.brand p{margin:0;color:var(--muted);font-size:12px}
.actions{display:flex;gap:10px;align-items:center}
.btn{
  appearance:none;border:1px solid var(--border);background:var(--card);color:var(--text);
  padding:10px 12px;border-radius:12px;cursor:pointer;
  display:inline-flex;gap:8px;align-items:center;justify-content:center;
  box-shadow: none;
}
.btn.primary{background:var(--primary);border-color:transparent;color:#001018;font-weight:800}
.btn.primary:hover{background:var(--primary-2)}
.btn.icon{width:42px;height:42px;padding:0}
.pill{
  border:1px solid var(--border);
  background:color-mix(in srgb, var(--card) 60%, transparent);
  padding:8px 10px;border-radius:999px;color:var(--muted);font-size:12px
}

.hero{
  margin:12px 0 8px;
  background: linear-gradient(135deg, color-mix(in srgb, var(--primary) 16%, var(--surface)), var(--surface));
  border:1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.hero-inner{display:flex;gap:16px;align-items:flex-start;justify-content:space-between;padding:16px}
.hero h2{margin:0;font-size:18px}
.hero p{margin:6px 0 0;color:var(--muted)}
.searchrow{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.input{
  flex:1 1 260px;
  border:1px solid var(--border);
  background:var(--card);
  border-radius: 14px;
  padding:12px 12px;
  color:var(--text);
}
.select{flex:0 0 220px}
.chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
.chip{
  border:1px solid var(--border);
  background:var(--card);
  padding:8px 10px;border-radius:999px;
  cursor:pointer;
  color:var(--muted);
}
.chip.active{
  border-color: color-mix(in srgb, var(--primary) 60%, var(--border));
  color:var(--text);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 18%, transparent);
}
.grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap:12px;
  margin-top:14px;
}
@media (max-width: 1020px){ .grid{grid-template-columns: repeat(3, minmax(0,1fr));} }
@media (max-width: 760px){ .grid{grid-template-columns: repeat(2, minmax(0,1fr));} }
@media (max-width: 480px){ .grid{grid-template-columns: 1fr;} }

.card{
  border:1px solid var(--border);
  background:var(--card);
  border-radius: 16px;
  overflow:hidden;
  box-shadow: 0 1px 0 rgba(2,6,23,.05);
  cursor:pointer;
  display:flex;flex-direction:column;
  min-height: 320px;
}
.card .img{
  width:100%; aspect-ratio: 1/1;
  background: var(--surface);
  display:grid;place-items:center;
  border-bottom: 1px solid var(--border);
}
.card .img img{width:100%;height:100%;object-fit:contain}
.card .body{padding:12px;display:flex;flex-direction:column;gap:8px;flex:1}
.card .title{font-weight:800;line-height:1.2}
.card .meta{display:flex;gap:8px;flex-wrap:wrap}
.badge{
  font-size:12px;color:var(--muted);
  border:1px solid var(--border);
  background:color-mix(in srgb, var(--surface) 60%, transparent);
  padding:5px 8px;border-radius:999px
}
.badge.ok{color:color-mix(in srgb, var(--ok) 70%, var(--text))}
.badge.bad{color:color-mix(in srgb, var(--bad) 70%, var(--text))}
.price{
  margin-top:auto;
  display:flex;align-items:center;justify-content:space-between;gap:10px
}
.price strong{font-size:16px}
.smallbtn{
  border:1px solid var(--border);
  background:var(--surface);
  padding:8px 10px;border-radius:12px;
  cursor:pointer;
}

.empty{
  margin:18px 0;
  padding:18px;
  border:1px dashed var(--border);
  border-radius: 16px;
  color:var(--muted);
  text-align:center;
}

/* Modal */
.backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,.55);
  display:none;align-items:center;justify-content:center;
  z-index:1000;padding:16px;
}
.modal{
  width:min(980px, 100%);
  background:var(--card);
  border:1px solid var(--border);
  border-radius: 18px;
  overflow:hidden;
  box-shadow: var(--shadow);
}
.modal-head{
  display:flex;justify-content:space-between;align-items:flex-start;gap:10px;
  padding:14px 14px 10px;
  border-bottom:1px solid var(--border);
}
.modal-head h3{margin:0;font-size:16px}
.modal-head p{margin:5px 0 0;color:var(--muted);font-size:12px}
.modal-body{
  display:grid;grid-template-columns: 1.2fr .8fr;gap:14px;
  padding:14px;
}
@media (max-width: 860px){ .modal-body{grid-template-columns: 1fr;} }
.mainimg{
  width:100%; aspect-ratio: 1/1;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius: 16px;
  overflow:hidden;
}
.mainimg img{width:100%;height:100%;object-fit:contain}
.thumbs{display:flex;gap:8px;overflow:auto;padding:8px 2px}
.thumb{
  width:64px;height:64px;flex:0 0 auto;
  border-radius:14px;border:1px solid var(--border);
  background:var(--surface);overflow:hidden;cursor:pointer;opacity:.9
}
.thumb.active{outline: 3px solid color-mix(in srgb, var(--primary) 25%, transparent); opacity:1}
.thumb img{width:100%;height:100%;object-fit:cover}
.side{
  display:flex;flex-direction:column;gap:10px;
}
.side .pricebig{font-size:22px;font-weight:900;color:var(--primary)}
.desc{
  border:1px solid var(--border);
  background:var(--surface);
  padding:12px;border-radius:16px;
  color:var(--text);white-space:pre-wrap
}
.row{display:flex;gap:8px;flex-wrap:wrap}
.footer{
  padding:16px;border-top:1px solid var(--border);
  color:var(--muted);font-size:12px
}

/* Admin */
.admin-wrap{display:grid;grid-template-columns: 320px 1fr;gap:12px;margin-top:14px}
@media (max-width: 980px){ .admin-wrap{grid-template-columns: 1fr;} }
.panel{
  border:1px solid var(--border);
  background:var(--card);
  border-radius: 18px;
  box-shadow: var(--shadow);
  overflow:hidden;
}
.panel .ph{padding:12px 12px 10px;border-bottom:1px solid var(--border)}
.panel .ph h3{margin:0;font-size:14px}
.panel .pb{padding:12px}
.kv{display:grid;grid-template-columns: 1fr;gap:8px}
label{font-size:12px;color:var(--muted)}
.help{font-size:12px;color:var(--muted)}
table{width:100%;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid var(--border);vertical-align:top}
th{font-size:12px;color:var(--muted);text-align:left}
td small{color:var(--muted)}
.tr-actions{display:flex;gap:8px}
.inline{width:110px}
.toast{
  position:fixed;left:16px;bottom:16px;
  background:var(--card);border:1px solid var(--border);
  box-shadow: var(--shadow);
  padding:10px 12px;border-radius:14px;
  display:none;z-index:2000;color:var(--text)
}
